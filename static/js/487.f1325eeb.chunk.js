"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[487],{487:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(861),s=n(439),c=n(757),i=n.n(c),a=n(23),o="Movie_item__pbGQr",l="Movie_item_img__FQ17R",u="Movie_item_description__zgcgc",d=n(184),p=function(e){var t=e.movie,n=t.poster_path,r=t.genres,s=t.homepage,c=t.overview,i=t.title,p=t.vote_average;return(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)("img",{className:l,src:n?"https://image.tmdb.org/t/p/w300/".concat(n):a,alt:i,loading:"lazy"}),(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)("h2",{children:i}),(0,d.jsx)("h3",{children:"Overwiew"}),(0,d.jsx)("p",{children:c}),(0,d.jsxs)("p",{children:["rate: ",p.toFixed(1)]}),(0,d.jsx)("h3",{children:"Genres"}),(0,d.jsx)("ul",{children:(0,d.jsx)("li",{children:null===r||void 0===r?void 0:r.map((function(e){return e.name})).join(", ")},"genres")}),s&&(0,d.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:(0,d.jsx)("p",{children:"Official page"})})]})]})},h=n(243),f="https://api.themoviedb.org/3",v="b0417ce4f13258c76c4f7fdc636d5dbb",m="/movie/";function _(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function e(t){var n,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({append_to_response:"movies",language:"en-US",api_key:v}),e.next=3,h.Z.get("".concat(f).concat(m).concat(t,"?").concat(n));case 3:return r=e.sent,s=r.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=n(689),g=n(87),w=n(791),k=n(447),b="idle",N="pending",M="rejected",S="resolved",Z="MovieDetails_container__Ys+c9",y="MovieDetails_back__Jj+0O",U="MovieDetails_links__EzCWB",C="MovieDetails_link_item__u9S5O",O=function(){var e,t=(0,w.useState)(null),n=(0,s.Z)(t,2),c=n[0],a=n[1],o=(0,w.useState)(b),l=(0,s.Z)(o,2),u=l[0],h=l[1],f=(0,j.UO)().movieId,v=(0,j.TH)(),m=(0,w.useRef)([(null===(e=v.state)||void 0===e?void 0:e.from)||"/"]);(0,w.useEffect)((function(){v.state&&m.current[m.current.length-1]!==v.state.from&&m.current.push(v.state.from)}),[v]),(0,w.useEffect)((function(){function e(){return(e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(f);case 3:t=e.sent,a(t),h(S),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h(M);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}h(N),function(){e.apply(this,arguments)}()}),[f]);return u===S?(0,d.jsxs)("div",{className:Z,children:[(0,d.jsx)(g.rU,{to:m.current[m.current.length-1],onClick:function(){m.current.pop()},children:(0,d.jsx)("button",{className:y,children:"back"})}),(0,d.jsx)(p,{movie:c}),(0,d.jsxs)("div",{className:U,children:[(0,d.jsx)(g.rU,{className:C,to:"cast",children:(0,d.jsx)("h2",{children:"Cast"})}),(0,d.jsx)(g.rU,{className:C,to:"rewiews",children:(0,d.jsx)("h2",{children:"Rewiews"})})]}),(0,d.jsx)(w.Suspense,{fallback:(0,d.jsx)(k.Z,{}),children:(0,d.jsx)(j.j3,{})})]}):u===N?(0,d.jsx)(k.Z,{}):u===M?(0,d.jsx)("p",{children:"Something went wrong"}):void 0}},23:function(e,t,n){e.exports=n.p+"static/media/no_poster.ac7703603ec269547856.jpg"}}]);
//# sourceMappingURL=487.f1325eeb.chunk.js.map