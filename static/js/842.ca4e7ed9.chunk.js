"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[842],{334:function(e,n,t){t.d(n,{Ai:function(){return m},Ny:function(){return x},uV:function(){return w},vS:function(){return k},wr:function(){return d}});var r=t(861),a=t(757),c=t.n(a),s=t(243),i="https://api.themoviedb.org/3",o="b0417ce4f13258c76c4f7fdc636d5dbb",u="/trending/movie/week",p="/search/movie",l="/movie/",h="/credits",f="/reviews";function d(){return v.apply(this,arguments)}function v(){return v=(0,r.Z)(c().mark((function e(){var n,t,r,a,p=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>0&&void 0!==p[0]?p[0]:1,t=new URLSearchParams({language:"en-US",page:n,api_key:o}),e.next=4,s.Z.get("".concat(i).concat(u,"?").concat(t));case 4:return r=e.sent,a=r.data,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return g=(0,r.Z)(c().mark((function e(n){var t,r,a,u,l=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:1,r=new URLSearchParams({query:n,language:"en-US",page:t,api_key:o}),e.next=4,s.Z.get("".concat(i).concat(p,"?").concat(r));case 4:return a=e.sent,u=a.data,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function x(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(c().mark((function e(n){var t,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({append_to_response:"movies",language:"en-US",api_key:o}),e.next=3,s.Z.get("".concat(i).concat(l).concat(n,"?").concat(t));case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(c().mark((function e(n){var t,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({language:"en-US",api_key:o}),e.next=3,s.Z.get("".concat(i).concat(l).concat(n).concat(h,"?").concat(t));case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return E.apply(this,arguments)}function E(){return E=(0,r.Z)(c().mark((function e(n){var t,r,a,u,p=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>1&&void 0!==p[1]?p[1]:1,r=new URLSearchParams({language:"en-US",page:t,api_key:o}),e.next=4,s.Z.get("".concat(i).concat(l).concat(n).concat(f,"?").concat(r));case 4:return a=e.sent,u=a.data,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}},499:function(e,n,t){t.d(n,{Q:function(){return r}});var r={IDLE:"idle",PENDING:"pending",REJECTED:"rejected",RESOLVED:"resolved"}},842:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r=t(861),a=t(439),c=t(757),s=t.n(c),i=t(23),o="Movie_item__pbGQr",u="Movie_item_img__FQ17R",p="Movie_item_description__zgcgc",l=t(184),h=function(e){var n=e.movie,t=n.poster_path,r=n.genres,a=n.homepage,c=n.overview,s=n.title,h=n.vote_average;return(0,l.jsxs)("div",{className:o,children:[(0,l.jsx)("img",{className:u,src:t?"https://image.tmdb.org/t/p/w300/".concat(t):i,alt:s,loading:"lazy"}),(0,l.jsxs)("div",{className:p,children:[(0,l.jsx)("h2",{children:s}),(0,l.jsx)("h3",{children:"Overwiew"}),(0,l.jsx)("p",{children:c}),(0,l.jsxs)("p",{children:["Rate: ",h.toFixed(1)]}),(0,l.jsx)("h3",{children:"Genres"}),(0,l.jsx)("ul",{children:(0,l.jsx)("li",{children:null===r||void 0===r?void 0:r.map((function(e){return e.name})).join(", ")},"genres")}),a&&(0,l.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:(0,l.jsx)("p",{children:"Official page"})})]})]})},f=t(334),d=t(689),v=t(87),m=t(791),g=t(447),x=t(499),_="MovieDetails_container__Ys+c9",w="MovieDetails_back__Jj+0O",j="MovieDetails_links__EzCWB",k="MovieDetails_link_item__u9S5O",E=function(){var e,n=(0,m.useState)(null),t=(0,a.Z)(n,2),c=t[0],i=t[1],o=(0,m.useState)(x.Q.IDLE),u=(0,a.Z)(o,2),p=u[0],E=u[1],y=(0,d.UO)().movieId,b=(0,d.TH)(),S=(0,m.useRef)([(null===(e=b.state)||void 0===e?void 0:e.from)||"/"]);(0,m.useEffect)((function(){b.state&&S.current[S.current.length-1]!==b.state.from&&S.current.push(b.state.from)}),[b]),(0,m.useEffect)((function(){function e(){return(e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.Ny)(y);case 3:n=e.sent,i(n),E(x.Q.RESOLVED),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E(x.Q.REJECTED);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}E(x.Q.PENDING),function(){e.apply(this,arguments)}()}),[y]);return p===x.Q.RESOLVED?(0,l.jsxs)("div",{className:_,children:[(0,l.jsx)(v.rU,{to:S.current[S.current.length-1],onClick:function(){S.current.pop()},children:(0,l.jsx)("button",{className:w,children:"back"})}),(0,l.jsx)(h,{movie:c}),(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)(v.rU,{className:k,to:"cast",children:(0,l.jsx)("h2",{children:"Cast"})}),(0,l.jsx)(v.rU,{className:k,to:"rewiews",children:(0,l.jsx)("h2",{children:"Rewiews"})})]}),(0,l.jsx)(m.Suspense,{fallback:(0,l.jsx)(g.Z,{}),children:(0,l.jsx)(d.j3,{})})]}):p===x.Q.PENDING?(0,l.jsx)(g.Z,{}):p===x.Q.REJECTED?(0,l.jsx)("p",{children:"Something went wrong"}):void 0}},23:function(e,n,t){e.exports=t.p+"static/media/no_poster.ac7703603ec269547856.jpg"}}]);
//# sourceMappingURL=842.ca4e7ed9.chunk.js.map