{"version":3,"file":"static/js/487.f1325eeb.chunk.js","mappings":"mOACA,EAAuB,oBAAvB,EAAsD,wBAAtD,EAAiG,gC,SCwCjG,EArCc,SAAC,GAAe,IAAbA,EAAY,EAAZA,MACPC,EAAiED,EAAjEC,YAAaC,EAAoDF,EAApDE,OAAQC,EAA4CH,EAA5CG,SAAUC,EAAkCJ,EAAlCI,SAAUC,EAAwBL,EAAxBK,MAAOC,EAAiBN,EAAjBM,aACxD,OACE,iBAAKC,UAAWC,EAAhB,WACE,gBACED,UAAWC,EACXC,IAAKR,EAAW,0CAAsCA,GAAgBS,EACtEC,IAAKN,EACLO,QAAQ,UAEV,iBAAKL,UAAWC,EAAhB,WACE,wBAAKH,KACL,wBAAI,cACJ,uBAAID,KACJ,yBAAG,SAAOE,EAAaO,QAAQ,OAC/B,wBAAI,YACJ,yBACE,+BAAoBX,QAApB,IAAoBA,OAApB,EAAoBA,EAAQY,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,OAAjD,YAEVd,IACC,cAAGe,KAAMf,EAAUgB,OAAO,SAASC,IAAI,aAAvC,UACE,uBAAG,yBAMd,E,SC7BKC,EAAW,+BACXC,EAAU,mCAGVC,EAAQ,UA4BP,SAAeC,EAAtB,kC,aAAO,O,oBAAA,WAA0BC,GAA1B,kFACCC,EAAS,IAAIC,gBAAgB,CACjCC,mBAAoB,SACpBC,SAAU,QACVC,QAASR,IAJN,SAMkBS,EAAAA,EAAAA,IAAA,UAAaV,GAAb,OAAwBE,GAAxB,OAAgCE,EAAhC,YAAsCC,IANxD,uBAMGM,EANH,EAMGA,KANH,kBAOEA,GAPF,kE,uCClCMC,EACL,OADKA,EAEF,UAFEA,EAGD,WAHCA,EAID,WCHZ,EAA4B,gCAA5B,EAAmE,2BAAnE,EAAsG,4BAAtG,EAA8I,gCCqE9I,EA9DqB,WAAO,IAAD,EACzB,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOlC,EAAP,KAAcmC,EAAd,KACA,GAA4BD,EAAAA,EAAAA,UAASD,GAArC,eAAOG,EAAP,KAAeC,EAAf,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,QAAO,EAAC,UAAAH,EAASI,aAAT,eAAgBC,OAAQ,OAEjDC,EAAAA,EAAAA,YAAU,WACHN,EAASI,OAGVF,EAASK,QAAQL,EAASK,QAAQC,OAAS,KAAOR,EAASI,MAAMC,MACnEH,EAASK,QAAQE,KAAKT,EAASI,MAAMC,KAExC,GAAE,CAACL,KAEJM,EAAAA,EAAAA,YAAU,WAAM,wCAEd,6GAEwBtB,EAAWc,GAFnC,OAEUtC,EAFV,OAGImC,EAASnC,GACTqC,EAAUJ,GAJd,gDAMII,EAAUJ,GANd,0DAFc,sBACdI,EAAUJ,GADI,mCAWdiB,EACD,GAAE,CAACZ,IAMJ,OAAIF,IAAWH,GAEX,iBAAK1B,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAM2C,GAAIT,EAASK,QAAQL,EAASK,QAAQC,OAAS,GAAII,QAPxC,WACrBV,EAASK,QAAQM,KAClB,EAKK,UACE,mBAAQ9C,UAAWC,EAAnB,SAA6B,YAE/B,SAAC,EAAD,CAAOR,MAAOA,KACd,iBAAKO,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAMD,UAAWC,EAAe2C,GAAG,OAAnC,UACE,wBAAI,YAEN,SAAC,KAAD,CAAM5C,UAAWC,EAAe2C,GAAG,UAAnC,UACE,wBAAI,kBAGR,SAAC,EAAAG,SAAD,CAAUC,UAAU,SAACC,EAAA,EAAD,IAApB,UACE,SAAC,KAAD,SAIGpB,IAAWH,GACb,SAACuB,EAAA,EAAD,IACEpB,IAAWH,GACb,uBAAG,8BADL,CAGR,C","sources":["webpack://react-homework-template/./src/components/Movie/Movie.module.css?e0b9","components/Movie/Movie.jsx","components/moviesAPI/moviesFetch.js","components/moviesAPI/status.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Movie_item__pbGQr\",\"item_img\":\"Movie_item_img__FQ17R\",\"item_description\":\"Movie_item_description__zgcgc\"};","import defaultPoster from '../images/no_poster.jpg';\nimport css from './Movie.module.css';\nimport PropTypes from 'prop-types';\n\nconst Movie = ({ movie }) => {\n  const { poster_path, genres, homepage, overview, title, vote_average } = movie;\n  return (\n    <div className={css.item}>\n      <img\n        className={css.item_img}\n        src={poster_path ? `https://image.tmdb.org/t/p/w300/${poster_path}` : defaultPoster}\n        alt={title}\n        loading=\"lazy\"\n      />\n      <div className={css.item_description}>\n        <h2>{title}</h2>\n        <h3>Overwiew</h3>\n        <p>{overview}</p>\n        <p>rate: {vote_average.toFixed(1)}</p>\n        <h3>Genres</h3>\n        <ul>\n          <li key={'genres'}>{genres?.map(genre => genre.name).join(', ')}</li>\n        </ul>\n        {homepage && (\n          <a href={homepage} target=\"_blank\" rel=\"noreferrer\">\n            <p>Official page</p>\n          </a>\n        )}\n      </div>\n    </div>\n  );\n};\n\nMovie.propTypes = {\n  genres: PropTypes.array,\n  title: PropTypes.string,\n  poster_path: PropTypes.string,\n  vote_average: PropTypes.number,\n  homepage: PropTypes.string,\n  overview: PropTypes.string,\n};\nexport default Movie;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'b0417ce4f13258c76c4f7fdc636d5dbb';\nconst TRENDS = '/trending/movie/week';\nconst SEARCH = '/search/movie';\nconst MOVIE = '/movie/';\nconst CAST = '/credits';\nconst REWIEWS = '/reviews';\n\n// https://api.themoviedb.org/3/trending/movie/week?language=en-US&api_key=c89dcf9a7de9ef86355d610380679a74\nexport async function fetchTrendingMovies(page = 1) {\n  const params = new URLSearchParams({\n    language: 'en-US',\n    page: page,\n    api_key: API_KEY,\n  });\n  const { data } = await axios.get(`${BASE_URL}${TRENDS}?${params}`);\n  return data;\n}\n\n// https://api.themoviedb.org/3/search/movie?query=memo&include_adult=true&language=en-US&page=1&api_key=c89dcf9a7de9ef86355d610380679a74\nexport async function fetchSearchMovie(searchText, page = 1) {\n  const params = new URLSearchParams({\n    query: searchText,\n    language: 'en-US',\n    page: page,\n    api_key: API_KEY,\n  });\n  const { data } = await axios.get(`${BASE_URL}${SEARCH}?${params}`);\n  return data;\n}\n\n// https://api.themoviedb.org/3/movie/113072?append_to_response=movies&language=en-US&api_key=c89dcf9a7de9ef86355d610380679a74\nexport async function fetchMovie(id) {\n  const params = new URLSearchParams({\n    append_to_response: 'movies',\n    language: 'en-US',\n    api_key: API_KEY,\n  });\n  const { data } = await axios.get(`${BASE_URL}${MOVIE}${id}?${params}`);\n  return data;\n}\n\n// https://api.themoviedb.org/3/movie/113072/credits?language=en-US&api_key=c89dcf9a7de9ef86355d610380679a74\nexport async function fetchMovieCast(id) {\n  const params = new URLSearchParams({\n    language: 'en-US',\n    api_key: API_KEY,\n  });\n  const { data } = await axios.get(`${BASE_URL}${MOVIE}${id}${CAST}?${params}`);\n  return data;\n}\n\n// https://api.themoviedb.org/3/movie/484089/reviews?language=en-US&page=1&api_key=c89dcf9a7de9ef86355d610380679a74\n\nexport async function fetchMovieRewiews(id, page = 1) {\n  const params = new URLSearchParams({\n    language: 'en-US',\n    page: page,\n    api_key: API_KEY,\n  });\n  const { data } = await axios.get(`${BASE_URL}${MOVIE}${id}${REWIEWS}?${params}`);\n  return data;\n}\n","export const STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__Ys+c9\",\"back\":\"MovieDetails_back__Jj+0O\",\"links\":\"MovieDetails_links__EzCWB\",\"link_item\":\"MovieDetails_link_item__u9S5O\"};","import Movie from 'components/Movie/Movie';\nimport { fetchMovie } from 'components/moviesAPI/moviesFetch';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { Suspense, useEffect, useRef, useState } from 'react';\nimport Loader from 'components/Loader/Loader';\nimport { STATUS } from '../../components/moviesAPI/status';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const { movieId } = useParams();\n  // console.log('movieId :>> ', movieId);\n  const location = useLocation();\n  const backLink = useRef([location.state?.from || '/']);\n\n  useEffect(() => {\n    if (!location.state) {\n      return;\n    }\n    if (backLink.current[backLink.current.length - 1] !== location.state.from) {\n      backLink.current.push(location.state.from);\n    }\n  }, [location]);\n\n  useEffect(() => {\n    setStatus(STATUS.PENDING);\n    async function getMovie() {\n      try {\n        const movie = await fetchMovie(movieId);\n        setMovie(movie);\n        setStatus(STATUS.RESOLVED);\n      } catch (err) {\n        setStatus(STATUS.REJECTED);\n      }\n    }\n    getMovie();\n  }, [movieId]);\n\n  const reduceLocation = () => {\n    backLink.current.pop();\n  };\n\n  if (status === STATUS.RESOLVED) {\n    return (\n      <div className={css.container}>\n        <Link to={backLink.current[backLink.current.length - 1]} onClick={reduceLocation}>\n          <button className={css.back}>back</button>\n        </Link>\n        <Movie movie={movie} />\n        <div className={css.links}>\n          <Link className={css.link_item} to=\"cast\">\n            <h2>Cast</h2>\n          </Link>\n          <Link className={css.link_item} to=\"rewiews\">\n            <h2>Rewiews</h2>\n          </Link>\n        </div>\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </div>\n    );\n  } else if (status === STATUS.PENDING) {\n    return <Loader />;\n  } else if (status === STATUS.REJECTED) {\n    return <p>Something went wrong</p>;\n  }\n};\n\nexport default MovieDetails;\n"],"names":["movie","poster_path","genres","homepage","overview","title","vote_average","className","css","src","defaultPoster","alt","loading","toFixed","map","genre","name","join","href","target","rel","BASE_URL","API_KEY","MOVIE","fetchMovie","id","params","URLSearchParams","append_to_response","language","api_key","axios","data","STATUS","useState","setMovie","status","setStatus","movieId","useParams","location","useLocation","backLink","useRef","state","from","useEffect","current","length","push","getMovie","to","onClick","pop","Suspense","fallback","Loader"],"sourceRoot":""}